<!DOCTYPE html>
<html ng-controller="MindmapController" ng-class="{print: printMode}">
    <head>
        <title>{{#i18n}}mindmap.title{{/i18n}}</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="/mindmap/public/dist/entcore/ng-app.js" id="context" type="text/javascript"></script>
        <script src="/mindmap/public/dist/application.js" type="text/javascript"></script>

        <!--  Wisemapping dependencies : START -->
        <script src="/mindmap/public/vendor/wisemapping/js/mootools-core.js" type="text/javascript"></script>
        <script src="/mindmap/public/vendor/wisemapping/js/mootools-more.js" type="text/javascript"></script>
        <script src="/mindmap/public/vendor/wisemapping/js/atos-integ.min.js" type="text/javascript"></script>
        <script src="/mindmap/public/vendor/wisemapping/js/core.js" type="text/javascript"></script>

        <link rel="stylesheet" type="text/css" href="/mindmap/public/vendor/wisemapping/css/embedded.css"/>
        <!--  Wisemapping dependencies : END -->
        <script type="text/ng-template" id="empty"></script>
        <script>
            window.pdfGeneratorConfig={
                landscape: true
            }
        </script>
        <style>
        @media print {
            @page {
            margin: 1.5cm;
            }
        }
        </style>
    </head>

    <body class="mindmap" library-root>
        <div ng-if="printMode">
            <section id="mindmap-content">
                <container template="mindmap" class="flexible navigation" ng-class="{ 'empty-neighbour': template.isEmpty('main'), 'filled-neighbour': !template.isEmpty('main') }"></container>
            </section>
        </div>
        <div ng-if="notFound">
            <div ng-if="!me.userId" class="absolute">
                <default-styles>
                    <h1><a data-reload><i class="oops"></i><i18n>oops</i18n></a></h1>
                    <article>
                        <div class="row">
                            <i18n>mindmap.or.page.notfound.or.unauthorized</i18n>
                        </div>
                    </article>
                </default-styles>
            </div>
            <div ng-if="me.userId" class="absolute">
                <portal>
                    <h1><a data-reload><i class="oops"></i><i18n>oops</i18n></a></h1>
                    <article>
                        <div class="row">
                            <i18n>mindmap.or.page.notfound.or.unauthorized</i18n>
                        </div>
                    </article>
                </portal>
            </div>
        </div>
        <script src="/mindmap/public/vendor/wisemapping/js/editor.min.js" type="text/javascript"></script>
        <script src="/mindmap/public/vendor/wisemapping/js/mindplot.min.js" type="text/javascript"></script>
        <script src="/mindmap/public/vendor/FileSaver.js/Blob.min.js" type="text/javascript"></script>
        <script src="/mindmap/public/vendor/FileSaver.js/FileSaver.min.js" type="text/javascript"></script>
    </body>
</html>
